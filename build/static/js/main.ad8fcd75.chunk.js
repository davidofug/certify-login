(this["webpackJsonpcertify-login"]=this["webpackJsonpcertify-login"]||[]).push([[0],{23:function(e,t,r){},41:function(e,t,r){},44:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(5),c=r.n(n),s=r(32),a=r.n(s),i=(r(41),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,50)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))}),l=r(12),u=r(9),d=(r(23),r(0)),o=r.n(d),j=r(1),b=r(8),p=r(33),h=(Object(p.a)({apiKey:"AIzaSyAKNM7Vu6B_T-fMOG1c36olKPEJi07hsFU",authDomain:"notes-b97a9.firebaseapp.com",projectId:"notes-b97a9",storageBucket:"notes-b97a9.appspot.com",messagingSenderId:"29230866721",appId:"1:29230866721:web:f91a874364a569d195de60",measurementId:"G-ZCNE15Q94S"}),r(17)),O=r(3),f=n.createContext(),x=new h.a;function m(){return n.useContext(f)}function v(e){var t=e.children,r=n.useState(),c=Object(b.a)(r,2),s=c[0],a=c[1],i=n.useState(!0),l=Object(b.a)(i,2),u=l[0],d=l[1],o=Object(h.c)();n.useEffect((function(){return Object(h.d)(o,(function(e){d(!1),a(e)}))}),[]),Object(h.d)(o,(function(e){a(e)}));var j={currentUser:s,signup:function(e,t){return Object(h.b)(o,e,t)},signin:function(e,t){return Object(h.f)(o,e,t)},signout:function(){return Object(h.h)(o)},resetPassword:function(e){return Object(h.e)(o,e)},updateMyEmail:function(e){return Object(h.i)(s,e)},updateMyPassword:function(e){return Object(h.j)(s,e)},signInWithGoogle:function(){return Object(h.g)(o,x)}};return Object(O.jsx)(f.Provider,{value:j,children:!u&&t})}r(44);function g(e){var t=e.children,r=e.variant;return"danger"===r?Object(O.jsx)("div",{className:"alert danger",children:t}):"success"===r?Object(O.jsx)("div",{className:"alert success",children:t}):Object(O.jsx)(O.Fragment,{children:"Rendered Alert without settings"})}function w(){var e=n.useState(""),t=Object(b.a)(e,2),r=t[0],c=t[1],s=n.useState(!1),a=Object(b.a)(s,2),i=a[0],d=a[1],p=n.useRef(),h=n.useRef(),f=n.useRef(),x=m(),v=x.signup,w=x.currentUser,y=x.signInWithGoogle,k=Object(u.g)(),S=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:e.sent,k.push("/certify"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c("Failed to login");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=p.current.value,n=h.current.value,s=f.current.value){e.next=6;break}return e.abrupt("return",c("Valid email required"));case 6:if(r===n){e.next=8;break}return e.abrupt("return",c("Passwords do not match"));case 8:return e.prev=8,c(""),d(!0),e.next=13,v(s,r);case 13:document.getElementById("signup").reset(),k.push("/certify"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),c("Failed to create an account");case 20:d(!1);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Sign Up"}),w&&w.email,r&&Object(O.jsx)(g,{variant:"danger",children:r}),Object(O.jsxs)("form",{onSubmit:N,action:"/",method:"post",id:"signup",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"Email",ref:f,required:!0})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Password",ref:p,required:!0})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(O.jsx)("input",{type:"password",id:"password2",placeholder:"Confirm Password",ref:h,required:!0})]}),Object(O.jsx)("div",{className:"button",children:Object(O.jsx)("button",{disabled:i,type:"submit",children:"Sign Up"})})]}),Object(O.jsx)("button",{onClick:S,children:"Sign Up with Google"})]}),Object(O.jsxs)("p",{children:["Have an account? ",Object(O.jsx)(l.b,{to:"/",children:"Log In"})]})]})}function y(){var e=n.useState(""),t=Object(b.a)(e,2),r=t[0],c=t[1],s=n.useState(!1),a=Object(b.a)(s,2),i=a[0],d=a[1],p=n.useRef(),h=n.useRef(),f=m(),x=f.signin,v=f.signInWithGoogle,w=Object(u.g)(),y=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=h.current.value,n=p.current.value,r){e.next=5;break}return e.abrupt("return",c("Valid email required"));case 5:return e.prev=5,c(""),d(!0),e.next=10,x(r,n);case 10:document.getElementById("signin").reset(),w.push("/certify"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),c("Failed to login");case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:e.sent,w.push("/certify"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c("Failed to login");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Sign In"}),r&&Object(O.jsx)(g,{variant:"danger",children:r}),Object(O.jsxs)("form",{onSubmit:y,action:"/",method:"post",id:"signin",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"Email",ref:h,required:!0})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Password",ref:p,required:!0})]}),Object(O.jsxs)("div",{className:"button",children:[Object(O.jsx)("button",{disabled:i,type:"submit",children:"Sign In"}),Object(O.jsx)(l.b,{to:"/forgot-password",children:"Forgot Password?"})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:k,children:"Google"})})]}),Object(O.jsxs)("p",{children:["Need an account? ",Object(O.jsx)(l.b,{to:"/sign-up",children:"Sign Up"})]})]})}function k(){var e=n.useState(""),t=Object(b.a)(e,2),r=t[0],c=t[1],s=n.useState(!1),a=Object(b.a)(s,2),i=a[0],u=a[1],d=n.useState(""),p=Object(b.a)(d,2),h=p[0],f=p[1],x=n.useRef(),v=m().resetPassword,w=function(){var e=Object(j.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=x.current.value){e.next=4;break}return e.abrupt("return",c("Valid email required"));case 4:return e.prev=4,c(""),u(!0),e.next=9,v(r);case 9:f("Check your inbox for password reset instructions."),document.getElementById("resetpassword").reset(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),c("Failed to reset password");case 16:u(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Reset Password"}),r&&Object(O.jsx)(g,{variant:"danger",children:r}),h&&Object(O.jsx)(g,{variant:"success",children:h}),Object(O.jsxs)("form",{onSubmit:w,action:"/",method:"post",id:"resetpassword",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"Email",ref:x,required:!0})]}),Object(O.jsxs)("div",{className:"button",children:[Object(O.jsx)("button",{disabled:i,type:"submit",children:"Reset Password"}),"Remember Password? ",Object(O.jsx)(l.b,{to:"/sign-in",children:"Sign In"})]})]})]}),Object(O.jsxs)("p",{children:["Need an account? ",Object(O.jsx)(l.b,{to:"/sign-up",children:"Sign Up"})]})]})}function S(){var e=n.useState(""),t=Object(b.a)(e,2),r=t[0],c=t[1],s=n.useState(!1),a=Object(b.a)(s,2),i=a[0],d=a[1],p=n.useState(""),h=Object(b.a)(p,2),f=h[0],x=h[1],v=n.useRef(),w=n.useRef(),y=n.useRef(),k=m(),S=k.currentUser,N=k.updateMyEmail,F=k.updateMyPassword,P=(Object(u.g)(),function(){var e=Object(j.a)(o.a.mark((function e(t){var r,n,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=v.current.value,n=w.current.value,s=y.current.value){e.next=6;break}return e.abrupt("return",c("Valid email required"));case 6:if(r===n){e.next=8;break}return e.abrupt("return",c("Passwords do not match"));case 8:a=[],d(!0),s!==S.email&&a.push(N(s)),r&&a.push(F(r)),Promise.all(a).then((function(){x("Profile updated")})).catch((function(e){console.error(e),c("Failed to update account")})).finally((function(){d(!1)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:" Update profile"}),Object(O.jsx)("p",{children:Object(O.jsx)(l.b,{to:"/certify",children:"Certify"})}),S&&S.email,r&&Object(O.jsx)(g,{variant:"danger",children:r}),f&&Object(O.jsx)(g,{variant:"success",children:f}),Object(O.jsxs)("form",{onSubmit:P,action:"/",method:"post",id:"update",children:[Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"Email",ref:y,defaultValue:S.email})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Leave blank to keep current password",ref:v})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(O.jsx)("input",{type:"password",id:"password2",placeholder:"Leave blank to keep current password",ref:w})]}),Object(O.jsx)("div",{className:"button",children:Object(O.jsx)("button",{disabled:i,type:"submit",children:"Update"})}),Object(O.jsx)(l.b,{to:"/certify",children:"Cancel"})]})]})})}function N(){var e=n.useState(),t=Object(b.a)(e,2),r=t[0],c=t[1],s=Object(u.g)(),a=m(),i=a.currentUser,d=a.signout;function p(){return(p=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,d();case 4:s.push("/sign-in"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to logout");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"You're about to certify"}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Email:"})," ",i.email]}),r&&Object(O.jsx)(g,{variant:"danger",children:"Failed to logout"}),Object(O.jsx)(l.b,{to:"/update-profile",children:"Update profile"}),Object(O.jsx)("p",{children:Object(O.jsx)("a",{href:"#",onClick:function(){return p.apply(this,arguments)},children:"Log Out"})})]})}function F(){return Object(O.jsx)("h1",{children:"Not found"})}var P=r(29),E=r(36),I=["children"];function C(e){var t=e.children,r=Object(E.a)(e,I),n=m().currentUser;return Object(O.jsx)(u.b,Object(P.a)(Object(P.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(O.jsx)(u.a,{to:{pathname:"/sign-in",state:{from:r}}})}}))}function U(){return Object(O.jsx)(v,{children:Object(O.jsx)(l.a,{children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(C,{exact:!0,path:"/certify",children:Object(O.jsx)(N,{})}),Object(O.jsx)(C,{path:"/update-profile",children:Object(O.jsx)(S,{})}),Object(O.jsx)(u.b,{exact:!0,path:"/forgot-password",children:Object(O.jsx)(k,{})}),Object(O.jsx)(u.b,{exact:!0,path:"/sign-in",children:Object(O.jsx)(y,{})}),Object(O.jsx)(u.b,{exact:!0,path:"/sign-up",children:Object(O.jsx)(w,{})}),Object(O.jsx)(u.b,{exact:!0,path:"/",children:Object(O.jsx)(y,{})}),Object(O.jsx)(u.b,{path:"*",children:Object(O.jsx)(F,{})})]})})})}a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root")),i()}},[[49,1,2]]]);
//# sourceMappingURL=main.ad8fcd75.chunk.js.map